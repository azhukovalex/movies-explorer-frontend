{"version":3,"sources":["components/ProtectedRoute/ProtectedRoute.js","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/me.jfif","components/AboutMe/AboutMe.js","components/Portfolio/Portfolio.js","components/Main/Main.js","images/logo__COLOR_main-1.svg","images/profile__logo.svg","components/Navigation/Navigation.js","components/Header/Header.js","components/Footer/Footer.js","utils/utils.js","components/Preloader/Preloader.js","components/Register/Register.js","components/Login/Login.js","components/NotFoundError/NotFoundError.js","contexts/CurrentUserContext.js","components/Profile/Profile.js","images/UnSavedLable.svg","images/SavedLable.svg","images/DeleteMovieBtn.svg","images/DeleteMovieBtnHover.svg","components/MoviesCard/MoviesCard.js","components/MoreBtn/MoreBtn.js","components/MoviesCardList/MoviesCardList.js","utils/configs.js","images/ShortOn.svg","images/ShortOff.svg","components/SearchForm/SearchForm.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","utils/auth.js","utils/MainApi.js","images/Union.svg","images/Union-1.svg","components/Tooltip/Tooltip.js","utils/MoviesApi.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","LoggedIn","to","Promo","className","AboutProject","Techs","AboutMe","target","href","src","MyPhoto","alt","Portfolio","Main","Navigation","React","useState","isClickedMenu","seIisClickedMenu","NavClassName","handleMenuClick","onClick","exact","activeClassName","user","Header","location","useLocation","pathname","logo","Footer","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","name","value","validationMessage","closest","checkValidity","Preloader","Register","onRegister","isPreloader","ClassNameDisabled","NavClassPassword","onSubmit","e","preventDefault","noValidate","onChange","minLength","maxLength","type","required","autoComplete","disabled","id","email","password","Login","onLogin","history","useHistory","then","push","catch","err","console","log","NotFoundError","goBack","CurrentUserContext","createContext","Profile","handleLogOut","onUpdateUser","currentUser","useContext","ClassBtnDisabled","useEffect","setTimeout","window","reload","MoviesCard","addMovieHandler","image","removeMovieHandler","data","time","duration","isHover","setIsHover","btnDelHover","deleteBtnHover","deleteBtn","savedMoviesArray","findIndex","item","movieId","isLiked","setIsLiked","handleDelHover","handleDisLikeClick","title","nameRU","description","Math","trunc","getTimeFromMins","style","backgroundImage","addActive","add","onMouseEnter","onMouseLeave","trailerLink","MoreBtn","setmoviesRendering","moviesRendering","moviesRenderingAdd","MoviesCardList","cardsData","handleDelMovie","imageUrl","isCSS","windowWidth","innerWidth","setmoviesRenderingAdd","slice","map","concat","url","length","SearchForm","handleSearch","searchKeyWord","moviesPreloader","keyWord","setKeyWord","isShort","setIsShort","isShown","setIsShown","isShortOn","setIsShortOn","shortBtn","shortOn","shortOff","placeholder","toLowerCase","Movies","cardList","setCardsList","isOpenMovies","setIsOpenMovies","errorMoviesMessage","setMoviesErrorMessage","cards","localStorage","removeItem","found","setItem","JSON","stringify","SavedMovies","savedMovieEerorMessage","setSavedMovieEerorMessage","SavedMovieIsError","setSavedMovieIsError","filter","BASE_URL","MainApi","baseUrl","headers","this","_url","token","fetch","method","res","ok","json","Promise","reject","status","body","Error","country","director","year","trailer","thumbnail","formats","nameEN","InfoTooltip","isTooltipOpen","onClose","successToolTip","isTooltipProfile","isTooltipLogin","errorImg","union","successImg","icon","moviesApi","optionsUrl","App","setToken","setIsTooltipOpen","setSuccessToolTip","setIsTooltipProfile","setIsTooltipLogin","setIsPreloader","setSearchKeyWord","_id","setCurrentUser","setCards","setMoviesPreloader","closeAllPopups","handleEscClose","key","handlerOverlayClick","classList","contains","handleLoggedIn","satus","handleTokenCheck","finally","arrayCards","forEach","includes","find","getItem","deleteCard","addEventListener","removeEventListener","movies","parse","getAllMovies","error","isLastSearch","getUserData","tokenParam","all","getUserInform","getMovies","userData","savedMovies","owner","Provider","path","createNewCard","go","updateProfileInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf88efc7.chunk.js","sourcesContent":["import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\n// этот компонент принимает другой компонент в качестве пропса\n// он также может взять неограниченное число пропсов и передать их новому компоненту\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.LoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute; \n","import React from 'react';\nimport './Promo.css';\n\nfunction Promo() {\n    return (\n        <section className=\"promo\">\n            <div className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</div>\n        </section>\n    )\n}\n\nexport default Promo;","import React from 'react';\nimport './AboutProject.css';\n\nfunction AboutProject() {\n  return (\n    <section className=\"about-project\">\n      <h2 className=\"about-project__title\">О проекте</h2>\n      <div className=\"about-project__main\">\n        <div className=\"about-project__block\">\n          <h3 className=\"about-project__block-title\">Дипломный проект включал 5 этапов</h3>\n          <p className=\"about-project__block-description\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n        </div>\n        <div className=\"about-project__block\">\n          <h3 className=\"about-project__block-title\">На выполнение диплома ушло 5 недель</h3>\n          <p className=\"about-project__block-description\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n        </div>\n      </div>\n      <div className=\"about-project__weeks\">\n        <div className=\"about-project__week-green\">1 неделя</div>\n        <div className=\"about-project__week-dark\">4 недели</div>\n      </div>\n      <div className=\"about-project__weeks\">\n        <div className=\"about-project__week-green about-project__back-front\">Back-end</div>\n        <div className=\"about-project__week-dark about-project__back-front\">Front-end</div>\n      </div>\n    </section>\n  )\n}\n\nexport default AboutProject;","import React from 'react';\nimport './Techs.css';\n\nfunction Techs() {\n  return (\n    <section className=\"techs\">\n      <h2 className=\"techs__title\">Технологии</h2>\n      <h3 className=\"techs__subtitle\">7 технологий</h3>\n      <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n      <ul className=\"techs__list\">\n        <li className=\"techs__list_item\">HTML</li>\n        <li className=\"techs__list_item\">CSS</li>\n        <li className=\"techs__list_item\">JS</li>\n        <li className=\"techs__list_item\">React</li>\n        <li className=\"techs__list_item\">Git</li>\n        <li className=\"techs__list_item\">Express.js</li>\n        <li className=\"techs__list_item\">mongoDB</li>\n      </ul>\n\n\n    </section>\n  )\n}\n\nexport default Techs;","export default __webpack_public_path__ + \"static/media/me.3d4e4644.jfif\";","import React from 'react';\nimport MyPhoto from '../../images/me.jfif'\nimport './AboutMe.css';\n\nfunction AboutMe() {\n  return (\n    <div className=\"about-me\" >\n      <h2 className=\"about-me__title\">Студент</h2>\n      <div className=\"about-me__main\">\n        <div className=\"about-me__info\">\n          <h3 className=\"about-me__name\">Алексей</h3>\n          <p className=\"about-me__profession\">Начинающий фронтенд-разработчик, 31 год</p>\n          <p className=\"about-me__text\">Я живу в Москве. Закончил ВЗФЭИ, работаю авиатехнологом в сфере авиации в отделе разработок. Мне нравится моя работа, но программирование интереснее, поэтому собираюсь сменить сферу деятельности.  В данный момент ищу работу именно в IT. </p>\n          <ul className=\"about-me__socials\">\n            <li className=\"about-me__social\"><a className=\"about-me__link\"  target=\"blank\" href=\"https://ru-ru.facebook.com/\">Facebook</a></li>\n            <li className=\"about-me__social\"><a className=\"about-me__link\" target=\"blank\" href=\"https://github.com/azhukovalex\">Github</a></li>\n          </ul>\n        </div>\n        <img className=\"about-me__photo\" src={MyPhoto} alt=\"Фото автора\" />\n      </div>\n\n    </div>\n  );\n}\n\nexport default AboutMe;\n","import React from 'react';\nimport './Portfolio.css';\n\nfunction Portfolio() {\n  return (\n    <div className=\"portfolio\" >\n      <h2 className=\"portfolio__title\">Портфолио</h2>\n      <ul className=\"portfolio__links\">\n        <li className=\"portfolio__item\">\n          <a className=\"portfolio__link\" target=\"blank\" href=\"https://azhukovalex.github.io/how-to-learn/\">Статичный сайт</a>\n        </li>\n        <li className=\"portfolio__item\">\n          <a className=\"portfolio__link\" target=\"blank\" href=\"https://azhukovalex.github.io/russian-travel/\" >Адаптивный сайт</a>\n        </li>\n        <li className=\"portfolio__item\">\n          <a className=\"portfolio__link\" target=\"blank\" href=\"https://azhukovalex.github.io/mesto-react/\" >Одностраничное приложение</a>\n        </li>\n      </ul>\n    </div >\n  );\n}\n\nexport default Portfolio;","\nimport React from 'react';\nimport Promo from '../Promo/Promo';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Portfolio from '../Portfolio/Portfolio';\n\nfunction Main() {\n\n  return (\n      <main className='main'>\n        <Promo />\n        <AboutProject />\n        <Techs />\n        <AboutMe />\n        <Portfolio />\n      </main>\n  )\n}\n\nexport default Main;","export default __webpack_public_path__ + \"static/media/logo__COLOR_main-1.b2d2abe1.svg\";","export default __webpack_public_path__ + \"static/media/profile__logo.524f8ef7.svg\";","import React from 'react';\nimport './Navigation.css'\nimport { NavLink } from 'react-router-dom';\nimport user from '../../images/profile__logo.svg';\n\nfunction Navigation(props) {\n  const { LoggedIn } = props;\n  //const name = currentUser ? currentUser.name : \"\";// убрать\n  const [isClickedMenu, seIisClickedMenu] = React.useState(false);\n  //const location = useLocation().pathname;\n  const NavClassName = `${isClickedMenu ? \"header__nav header__nav-mob_visible\" : \" header__nav header__nav-mob_invisible\"}`;\n\n  function handleMenuClick() {\n    seIisClickedMenu(!isClickedMenu);\n  }\n\n  return (\n    (LoggedIn) ?\n      <nav className=\"header__nav\">\n        <button className=\"header__burger-btn header__burger-btn_invisible\" onClick={handleMenuClick}></button>\n        <div className={NavClassName}>\n          <button className=\"header__nav-close-btn\" onClick={handleMenuClick} ></button>\n          <div className=\"header__nav-links\">\n            <NavLink exact to=\"/\" className=\"header__nav-movies header__nav-main\" activeClassName=\"active-link\" onClick={handleMenuClick}>Главная</NavLink>\n            <NavLink to=\"/movies\" className=\"header__nav-movies\" activeClassName=\"active-link\" onClick={handleMenuClick}>Фильмы</NavLink>\n            <NavLink to=\"/saved-movies\" className=\"header__nav-saved\" activeClassName=\"active-link\" onClick={handleMenuClick}>Сохраненные фильмы</NavLink>\n          </div>\n          <NavLink to=\"/profile\" className=\"header__nav-profile\" activeClassName=\"active-link\" onClick={handleMenuClick}>Аккаунт<img className='nav__user-icon' src={user} alt='Фото пользователя' /></NavLink>\n        </div>\n      </nav>\n      :\n      <nav className=\"header__nav\">\n        <NavLink to=\"/signup\" className=\"header__nav-item\" >Регистрация</NavLink>\n        <NavLink to=\"/signin\" className=\"header__nav-link\">Войти</NavLink>\n      </nav>\n  );\n}\n\nexport default Navigation;\n\n","import React from 'react';\nimport logo from '../../images/logo__COLOR_main-1.svg';\nimport Navigation from '../Navigation/Navigation';\nimport './Header.css';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction Header(props) {\n  const { LoggedIn } = props;\n  const location = useLocation().pathname;\n\n\n  return (\n    <header className={(location === \"/\") ? \"header\" : (location === \"/movies\" || location === \"/saved-movies\" || location === \"/profile\") ? \"header header__dark\" : \"header__none\"} >\n      <Link to='/'> <img className=\"header__logo\" src={logo} alt=\"Логотип\"></img></Link>\n      <Navigation\n          LoggedIn={LoggedIn} />\n    </header>\n  );\n}\n\nexport default Header;\n\n","import React from \"react\";\nimport \"./Footer.css\";\nimport { useLocation } from 'react-router-dom';\n\nfunction Footer() {\n  const location = useLocation().pathname;\n  return (\n    <footer className={(location === \"/movies\" || location === \"/saved-movies\" || location === \"/\") ? 'footer' : \"footer__none\"} >\n      <h2 className=\"footer__title\">\n        Учебный проект Яндекс.Практикум х BeatFilm.\n      </h2>\n      <div className=\"footer__info\">\n        <p className=\"footer__date\">&copy; 2021</p>\n        <ul className=\"footer__socials\">\n          <li className=\"footer__social\"><a className=\"footer__link\" target=\"blank\" href=\"https://praktikum.yandex.ru\">Яндекс.Практикум</a></li>\n          <li className=\"footer__social\"><a className=\"footer__link\" target=\"blank\" href=\"https://github.com/\">Github</a></li>\n          <li className=\"footer__social\"><a className=\"footer__link\" target=\"blank\" href=\"https://ru-ru.facebook.com/\">Facebook</a></li>\n        </ul>\n      </div>\n\n    </footer>\n  );\n}\n\nexport default Footer;\n\n\n","import React, { useCallback } from \"react\";\n\n//хук управления формой\nexport function useForm() {\n  const [values, setValues] = React.useState({});\n\n  const handleChange = (event) => {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    setValues({ ...values, [name]: value });\n  };\n\n  return { values, handleChange, setValues };\n}\n\n//хук управления формой и валидации формы\nexport function useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (event) => {\n    const target = event.target;\n    const name = target.name;\n    const value = target.value;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, errors, isValid, resetForm };\n}\n\n","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n  return (\n    <div className=\"preloader\">\n      <div className=\"preloader__container\">\n        <span className=\"preloader__round\"></span>\n      </div>\n    </div>\n  )\n};\n\nexport default Preloader\n","import React from 'react';\nimport logo from '../../images/logo__COLOR_main-1.svg';\nimport { Link } from 'react-router-dom';\nimport './Register.css';\nimport { useFormWithValidation } from '../../utils/utils';\nimport Preloader from '../Preloader/Preloader';\n\nfunction Register(props) {\n  const { onRegister, isPreloader } = props;\n  const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\n\n  const ClassNameDisabled = `${isValid ? \"reg-form__submit\" : \"reg-form__submit reg-form__submit__error\"}`;\n  const NavClassPassword = `${isValid ? \"reg-form__input\" : \"reg-form__input reg-form__input__error\"}`;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onRegister(values);\n    resetForm();\n  };\n\n\n  return (\n      <div className=\"reg\">\n        {isPreloader ? <Preloader />\n        \n          :\n\n          <form className=\"reg-form\" onSubmit={handleSubmit} noValidate>\n            <Link className=\"reg-form__logo-link\" to='/'> <img src={logo} alt=\"Логотип\" className=\"reg-form__logo\" /> </Link>\n            <h1 className=\"reg-form__title\">Добро пожаловать!</h1>\n            <label className=\"reg-form__label\">Имя</label>\n            <input className=\"reg-form__input\"\n              onChange={handleChange}\n              minLength=\"2\"\n              maxLength=\"30\"\n              type=\"text\"\n              name=\"name\"\n              required\n              autoComplete=\"off\"\n              value={values.name}\n              disabled={isPreloader} />\n            <span className=\"reg-form__valid-text reg-form__valid-text_non-valid\">{errors.name || ''}</span>\n            <label className=\"reg-form__label\">E-mail</label>\n            <input className=\"reg-form__input\"\n              onChange={handleChange}\n              minLength=\"2\"\n              maxLength=\"30\"\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              required\n              autoComplete=\"off\"\n              value={values.email}\n              disabled={isPreloader} \n            />\n            <span className=\"reg-form__valid-text reg-form__valid-text_non-valid\">{errors.email || ''}</span>\n            <label className=\"reg-form__label\">Пароль</label>\n            <input className={NavClassPassword}\n              onChange={handleChange}\n              minLength=\"6\"\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              required\n              autoComplete=\"off\"\n              value={values.password}\n              disabled={isPreloader} \n            />\n            <span className=\"reg-form__valid-text reg-form__valid-text_non-valid\">{errors.password || ''}</span>\n            <button className={ClassNameDisabled} type=\"submit\" disabled={!isValid || isPreloader}>Зарегистрироваться</button>\n            <span className=\"reg-form__text\">Уже зарегистрированы?&nbsp;<Link to=\"/signin\" className=\"reg-form__link\">Войти</Link></span>\n          </form>\n        }\n      </div>\n  );\n}\n\nexport default Register;","import React from 'react';\nimport logo from '../../images/logo__COLOR_main-1.svg';\nimport { Link, useHistory } from 'react-router-dom';\nimport './Login.css';\nimport { useFormWithValidation } from '../../utils/utils';\nimport Preloader from '../Preloader/Preloader';\n\nfunction Login(props) {\n  const { onLogin, isPreloader } = props;\n  const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\n  const NavClassPassword = `${isValid ? \"login-form__input\" : \"login-form__input login-form__input__error\"}`;\n  const ClassNameDisabled = `${isValid ? \"login-form__submit\" : \"login-form__submit login-form__submit__error\"}`;\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onLogin(values).then(() => {\n      history.push(\"/movies\");\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n    resetForm();\n  };\n\n\n  return (\n      <div className=\"login\">\n        {isPreloader ? <Preloader />\n\n          :\n\n          <form className=\"login-form\" onSubmit={handleSubmit}>\n            <Link className=\"login-form__logo-link\" to='/'> <img src={logo} alt=\"Логотип\" className=\"login-form__logo\" /> </Link>\n            <h1 className=\"login-form__title\">Рады видеть!</h1>\n            <label className=\"login-form__label\">          E-mail   </label>\n            <input className=\"login-form__input\"\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              required\n              value={values.email}\n              disabled={isPreloader} \n              onChange={handleChange} />\n            <span className=\"login-form__valid-text login-form__valid-text_non-valid\">{errors.email || ''}</span>\n            <label className=\"login-form__label\">Пароль</label>\n            <input className={NavClassPassword}\n              minLength={6}\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              value={values.password}\n              required\n              onChange={handleChange} \n              disabled={isPreloader} />\n            <span className=\"login-form__valid-text login-form__valid-text_non-valid\">{errors.password || ''}</span>\n            <button className={ClassNameDisabled}\n              type=\"submit\"\n              disabled={!isValid || isPreloader}>Войти</button>\n            <span className=\"login-form__text\">Еще не зарегистрированы?&nbsp;<Link to=\"/signup\" className=\"login-form__link\">Регистрация</Link></span>\n          </form>\n        }\n      </div>\n  );\n}\n\nexport default Login;","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './NotFoundError.css';\n\n\nfunction NotFoundError() {\n  const history = useHistory();\n  return (\n    <section className=\"not-found-error\">\n      <div className=\"not-found-error__text\">\n        <span className=\"not-found-error__code\">404</span>\n        <p className=\"not-found-error__description\">Страница не найдена</p>\n      </div>\n      <button onClick={() => history.goBack()} className=\"not-found-error__back\">Назад</button>\n    </section>\n  );\n}\n\nexport default NotFoundError;","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n\n","import React from 'react';\nimport './Profile.css';\nimport { Link } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { useFormWithValidation } from '../../utils/utils';\nimport Preloader from '../Preloader/Preloader';\n\nfunction Profile(props) {\n  const { handleLogOut, onUpdateUser, isPreloader } = props;\n  const currentUser = React.useContext(CurrentUserContext);\n  const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\n  const ClassBtnDisabled = `${isValid ? \"profile-form__submit\" : \"profile-form__submit profile-form__submit__error\"}`;\n\n  React.useEffect(() => {\n    if (currentUser) resetForm(currentUser);\n  }, [currentUser, resetForm]);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateUser(values);\n    setTimeout(function () { window.location.reload(); }, 1500);\n  }\n\n  return (\n      <div className=\"profile\">\n        {isPreloader ? <Preloader />\n\n          :\n\n          <form className=\"profile-form\" onSubmit={handleSubmit}>\n            <h1 className=\"profile-form__title\">Привет, {values.name}!</h1>\n            <label className=\"profile-form__label\">\n              <label className=\"profile-form__span\">Имя</label>\n              <input className=\"profile-form__input\" minLength={2} type=\"text\" name=\"name\" id=\"name\" required autoComplete=\"off\" value={values.name} onChange={handleChange} disabled={isPreloader}></input>\n              <span className=\"profile__valid-name profile__valid-name_non-valid\">{errors.name || ''}</span>\n            </label>\n            <div className=\"profile-form__line\"></div>\n            <label className=\"profile-form__label\">\n              <label className=\"profile-form__span\">E-mail</label>\n              <input type=\"email\" name=\"email\" id=\"email\" required className=\"profile-form__input\" autoComplete=\"off\" value={values.email} onChange={handleChange} disabled={isPreloader}></input>\n              <span className=\"profile__valid-email profile__valid-email_non-valid\">{errors.email || ''}</span>\n            </label>\n            <button className={ClassBtnDisabled} type=\"submit\" disabled={!isValid || isPreloader}>Редактировать</button>\n            <Link to=\"/\" onClick={handleLogOut} className=\"profile-form__link\">Выйти из аккаунта</Link>\n          </form>\n        }\n      </div>\n  );\n}\n\nexport default Profile;","export default __webpack_public_path__ + \"static/media/UnSavedLable.880a8cd1.svg\";","export default __webpack_public_path__ + \"static/media/SavedLable.85fa4ae7.svg\";","export default __webpack_public_path__ + \"static/media/DeleteMovieBtn.1b4d94bf.svg\";","export default __webpack_public_path__ + \"static/media/DeleteMovieBtnHover.b78751f8.svg\";","import React, { useState } from 'react';\nimport './MoviesCard.css';\nimport { useLocation } from 'react-router-dom';\nimport add from \"../../images/UnSavedLable.svg\";\nimport addActive from \"../../images/SavedLable.svg\";\nimport deleteBtn from \"../../images/DeleteMovieBtn.svg\";\nimport deleteBtnHover from \"../../images/DeleteMovieBtnHover.svg\";\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js'; //контекст\n\nfunction MoviesCard(props) {\n  const { addMovieHandler, image, removeMovieHandler, data } = props;\n  const currentUser = React.useContext(CurrentUserContext);\n  const location = useLocation();\n  const time = `${data.duration}`;\n  const [isHover, setIsHover] = React.useState(false);\n  const btnDelHover = `${isHover ? deleteBtnHover : deleteBtn}`;\n\n  const [isLiked, setIsLiked] = useState( ///использование стейта как написано в ТЗ к работе, проверить\n    currentUser.savedMoviesArray.findIndex(item => item.movieId === props.data.id) > -1); \n\n  //значок удаления при hover\n  function handleDelHover() {\n    setIsHover(!isHover);\n  }\n\n  function getTimeFromMins(time) {\n    let hours = Math.trunc(time / 60);\n    let minutes = time % 60;\n    return hours + 'ч ' + minutes + 'м';\n  };\n\n  function handleLikeClick() {\n    addMovieHandler(data);\n    setIsLiked(true);\n  }\n\n  function handleDisLikeClick() {\n    setIsLiked(false);\n    removeMovieHandler(data);\n  }\n\n  return (\n    \n    <div className=\"card\" >\n      <div className=\"card__info\">\n        <div className=\"card__description\">\n          <h2 className=\"card__title\" title={data.nameRU + \".  \" + data.description}>{data.nameRU}</h2>\n          <p className=\"card__duration\">{getTimeFromMins(time)}</p>\n        </div>\n        {location.pathname === '/movies' ?\n          (isLiked ?\n            <button\n              className=\"card__tab card__tab_add\"\n              type=\"button\"\n              style={{ backgroundImage: \"url(\" + addActive + \")\" }}\n              onClick={handleDisLikeClick}\n              alt=\"закладка\">\n            </button>\n            :\n            <button\n              className=\"card__tab card__tab_add\"\n              type=\"button\"\n              style={{ backgroundImage: \"url(\" + add + \")\" }}\n              onClick={handleLikeClick}\n              alt=\"закладка\">\n            </button>)\n          :\n          <button\n            className=\"card__tab card__tab_add\"\n            type=\"button\"\n            style={{ backgroundImage: \"url(\" + btnDelHover + \")\" }}\n            onClick={handleDisLikeClick}\n            onMouseEnter={handleDelHover} onMouseLeave={handleDelHover}\n            alt=\"закладка\">\n          </button>\n        }\n      </div>\n      <a className=\"card__image\" target=\"blank\" href={data.trailerLink}><img className=\"card__image\" src={image} alt={data.nameRU} /></a>\n    </div>\n   \n  );\n}\n\nexport default MoviesCard;\n\n\n","import React from 'react';\nimport './MoreBtn.css';\n\nfunction MoreBtn({ setmoviesRendering, moviesRendering, moviesRenderingAdd }) {\n  function MoreBtnClick() {\n    setmoviesRendering(moviesRendering + moviesRenderingAdd);\n  }\n  return (\n    <div className=\"more-btn\">\n      <p className=\"more-btn__text\" onClick={MoreBtnClick}>Ещё</p>\n    </div>\n  );\n}\n\nexport default MoreBtn;\n\n","import React from 'react';\nimport './MoviesCardList.css';\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport MoreBtn from '../MoreBtn/MoreBtn';\nimport {\n  LARGE_DISPLAY_MOVIES,\n  MIDDLE_DISPLAY_MOVIES,\n  MOBILE_DISPLAY_MOVIES,\n  ADD_EXTRA_LARGE_MOVIES,\n  ADD_LARGE_MOVIES,\n  ADD_MIDDLE_MOVIES,\n  EXTRA_LARGE_DISPLAY,\n  LARGE_DISPLAY_MAX,\n  LARGE_DISPLAY_MIN,\n  MIDDLE_DISPLAY_MAX,\n  MIDDLE_DISPLAY_MIN,\n} from \"../../utils/configs\";\n\n\nfunction MoviesCardList(props) {\n  const { removeMovieHandler, addMovieHandler, cardsData, handleDelMovie, imageUrl, isCSS } = props;\n  const windowWidth = window.innerWidth;\n  const [moviesRendering, setmoviesRendering] = React.useState(0); //добавка по MoreBtn //count\n  const [moviesRenderingAdd, setmoviesRenderingAdd] = React.useState(0); //setCountAdd\n\n  function moviesRender() { //отрисовка по ширине        \n    if (windowWidth >= EXTRA_LARGE_DISPLAY) {\n      setmoviesRendering(LARGE_DISPLAY_MOVIES);\n      setmoviesRenderingAdd(ADD_EXTRA_LARGE_MOVIES);\n    } else if (windowWidth < LARGE_DISPLAY_MAX && windowWidth > LARGE_DISPLAY_MIN) {\n      setmoviesRendering(LARGE_DISPLAY_MOVIES);\n      setmoviesRenderingAdd(ADD_LARGE_MOVIES);\n    } else if (windowWidth < MIDDLE_DISPLAY_MAX && windowWidth > MIDDLE_DISPLAY_MIN) {\n      setmoviesRendering(MIDDLE_DISPLAY_MOVIES);\n      setmoviesRenderingAdd(ADD_MIDDLE_MOVIES);\n    } else {\n      setmoviesRendering(MOBILE_DISPLAY_MOVIES);\n      setmoviesRenderingAdd(ADD_MIDDLE_MOVIES);\n    }\n  }\n\n  React.useEffect(() => {\n    moviesRender();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [windowWidth]);\n\n  return (\n    <>\n\n      <div className=\"movies__card-list\" id=\"allMovies\">\n        {\n          cardsData.slice(0, moviesRendering).map((item) => {\n            return (\n              <MoviesCard\n                isCSS={isCSS}\n                key={item.id || item.movieId}\n                data={item}\n                image={!!imageUrl ? imageUrl.concat(item.image.url) : item.image}\n                addMovieHandler={addMovieHandler}\n                removeMovieHandler={removeMovieHandler}\n                handleDelMovie={handleDelMovie}\n              />\n            )\n          })\n        }\n      </div>\n      {cardsData.length > moviesRendering &&\n        <MoreBtn\n          setmoviesRendering={setmoviesRendering}\n          moviesRendering={moviesRendering}\n          moviesRenderingAdd={moviesRenderingAdd}\n        />}\n\n    </>\n  );\n}\n\nexport default MoviesCardList;\n\n","\r\nexport const SHORT_DURATION = 40; //ДЛИТЕЛЬНОСТЬ\r\n\r\n//РЕНДЕРИНГ ПОИСКА:\r\n\r\nexport const LARGE_DISPLAY_MOVIES = 12;\r\nexport const MIDDLE_DISPLAY_MOVIES = 8;\r\nexport const MOBILE_DISPLAY_MOVIES = 5;\r\n\r\n//ДОБАВКА ПО MOREBTN\r\n\r\nexport const ADD_EXTRA_LARGE_MOVIES = 6;\r\nexport const ADD_LARGE_MOVIES = 3;\r\nexport const ADD_MIDDLE_MOVIES = 2;\r\n\r\n//РАЗРЕШЕНИЕ ЭКРАНА\r\n\r\nexport const EXTRA_LARGE_DISPLAY = 1285;\r\nexport const LARGE_DISPLAY_MAX = 1283;\r\nexport const LARGE_DISPLAY_MIN = 1000;\r\nexport const MIDDLE_DISPLAY_MAX = 1279;\r\nexport const MIDDLE_DISPLAY_MIN = 768;\r\n\r\n","export default __webpack_public_path__ + \"static/media/ShortOn.06824562.svg\";","export default __webpack_public_path__ + \"static/media/ShortOff.c95ddc8c.svg\";","import React from 'react';\nimport './SearchForm.css';\nimport shortOn from '../../images/ShortOn.svg';\nimport shortOff from '../../images/ShortOff.svg';\n\nfunction SearchForm(props) {\n  const { handleSearch, searchKeyWord, moviesPreloader, isPreloader } = props;\n  const [keyWord, setKeyWord] = React.useState(searchKeyWord || '');\n  const [isShort, setIsShort] = React.useState(false);\n  const [isShown, setIsShown] = React.useState(false);\n  const [isShortOn, setIsShortOn] = React.useState(false);\n  const shortBtn = `${isShortOn ? shortOn : shortOff}`;\n\n  //значок удаления при hover\n  function handleShortOn() {\n    setIsShortOn(!isShortOn);\n  }\n  function handleShort() {\n    setIsShort(!isShort)\n  }\n\n  function handleChange(event) {\n    event.preventDefault();\n    const value = event.target.value;\n    setKeyWord(value.toLowerCase());\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    !keyWord ? setIsShown(true) : handleSearch(keyWord, isShort);\n  }\n\n  return (\n    <form className=\"search-form\" onSubmit={handleSubmit} noValidate=\"novalidate\">\n      <label className=\"search-form__block\">\n        {isShown && !keyWord && <span className=\"search-form__span-error\">Нужно ввести ключевое слово</span>}\n        <input className=\"search-form__area\"\n          placeholder=\"Фильм\"\n          value={keyWord || ''}\n          name=\"search\"\n          onChange={handleChange}\n          autoComplete=\"off\"\n          required\n          disabled={isPreloader || moviesPreloader}\n        />\n\n        <button className=\"search-form__btn\" type=\"submit\" ></button>\n      </label>\n\n      <label className=\"search-form__filter\">\n        <input className=\"search-form__checkbox\"\n          id=\"short\"\n          type=\"checkbox\"\n          onClick={handleShortOn}\n          onChange={handleShort}\n          disabled={isPreloader || moviesPreloader}\n        />\n        <span className=\"search-form__checkbox-span\" style={{ backgroundImage: \"url(\" + shortBtn + \")\" }}></span>\n        Короткометражки\n      </label>\n    </form>\n  );\n}\n\nexport default SearchForm;","import React from 'react';\n\nimport './Movies.css';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport SearchForm from '../SearchForm/SearchForm';\n\nimport Preloader from '../Preloader/Preloader';\n\nfunction Movies(props) {\n  const {\n    addMovieHandler, \n    removeMovieHandler, \n    handleSearch, \n    searchKeyWord, \n    imageUrl, \n    cardList, \n    moviesPreloader,\n    setCardsList, \n    isOpenMovies, \n    setIsOpenMovies, \n    errorMoviesMessage, \n    setMoviesErrorMessage, \n    cards } = props;\n\n  function handleSubmit(keyWord, isShort) {\n    localStorage.removeItem('lastSearch');\n    console.log(\"поиск\" + keyWord)\n    const found = handleSearch(cards, keyWord, isShort);\n    setCardsList(found);\n    localStorage.setItem('lastSearch', JSON.stringify(found));\n    if (found < 1) {\n      setIsOpenMovies(true);\n      setMoviesErrorMessage('Ничего не найдено');\n    }\n  }\n\n  return (\n    <div className=\"movies\">\n      <SearchForm\n        handleSearch={handleSubmit}\n        searchKeyWord={searchKeyWord}\n        moviesPreloader={moviesPreloader}\n      />\n      {moviesPreloader ? <Preloader />\n        :\n        isOpenMovies ? <p className=\"card-list__text\">{errorMoviesMessage}</p>\n          :\n          <MoviesCardList\n            addMovieHandler={addMovieHandler}\n            removeMovieHandler={removeMovieHandler}\n            cardsData={cardList}\n            imageUrl={imageUrl }\n          />}\n    </div>\n  );\n}\n\nexport default Movies;\n\n\n","import React from 'react';\nimport './SavedMovies.css';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Preloader from '../Preloader/Preloader';\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nfunction SavedMovies(props) {\n  const { isPreloader, handleSearch, removeMovieHandler, searchKeyWord,  } = props;\n  const currentUser = React.useContext(CurrentUserContext);\n  const [cardList, setCardsList] = React.useState([]);\n  const [savedMovieEerorMessage, setSavedMovieEerorMessage] = React.useState('');\n  const [SavedMovieIsError, setSavedMovieIsError] = React.useState(false);\n\n  function handleSubmit(keyWord, isShort) {\n    const found = handleSearch(currentUser.savedMoviesArray, keyWord, isShort);\n    setCardsList(found);\n    if (found < 1) {\n      setSavedMovieIsError(true);\n      setSavedMovieEerorMessage('Ничего не найдено');\n    }\n  }\n\n  function handleDelMovie(data) {\n    removeMovieHandler(data);\n    setCardsList(currentUser.savedMoviesArray.filter((item) => item.movieId !== data.movieId));\n  }\n  React.useEffect(() => {\n    if (currentUser) {setCardsList(currentUser.savedMoviesArray)}    \n    }\n  , [currentUser]) \n\n\n  return (\n    <div className=\"movies__main-saved\">\n      <SearchForm\n        handleSearch={handleSubmit}\n        searchKeyWord={searchKeyWord}\n        isPreloader={isPreloader}\n      />\n      {isPreloader ? <Preloader />\n        :\n        SavedMovieIsError ? <p className=\"card-list__text\">{savedMovieEerorMessage}</p>\n          :\n          <MoviesCardList\n            cardsData={cardList}\n            removeMovieHandler={handleDelMovie}\n            \n          />}\n    </div>\n  );\n}\n\nexport default SavedMovies;\n\n\n","export const BASE_URL = \"https://azhukovalexback.vint1024.ru\";\n//export const BASE_URL = \"http://localhost:3001\";\n\nexport const register = (data) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            name: data.name,\n            email: data.email,\n            password: data.password\n        }),\n    })\n        .then(res => {\n            if (res.status === 400) { throw new Error('При регистрации пользователя произошла ошибка.') }\n            else if (res.status === 409) { throw new Error('Пользователь с таким email уже существует.') }\n            else return res.json()\n        })\n        .then((res) => {\n            return res;\n        })\n        .catch((err) => {\n            console.log(err);\n            return Promise.reject(err);\n        });\n};\n\nexport const authorize = (data) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({             \n            email: data.email,\n            password: data.password }),\n    })\n        .then((res) => {\n            if (res.status === 200) {\n                console.log(\"authorize OK\");\n                return res.json();\n            }\n            if (res.status === 400) {\n                throw new Error(\"Не передано одно из полей\");\n            }\n            if (res.status === 401) {\n                throw new Error(\"Пользователь с email не найден\");\n            }\n        })\n        .then((data) => {\n            if (data.token) {\n                localStorage.setItem(\"jwt\", data.token);\n                return data;\n            }\n            return;\n        })\n        .catch((err) => {\n            console.log(err.satus);\n            return Promise.reject(err);\n        });\n};\n\nexport const getContent = (token) => { //tokenCheck\n    return fetch(`${BASE_URL}/users/me`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            'Authorization': `Bearer ${token}`,\n        },\n    })\n        .then((res) => {\n            if (res.status === 200) {\n                return res.json();\n            }\n            if (res.status === 400) {\n                throw new Error(\"Токен не передан или передан не в том формате\");\n            }\n            if (res.status === 401) {\n                throw new Error(\"Переданный токен некорректен\");\n            }\n        })\n        .then((data) => {\n            return data;\n        })\n        .catch((err) => {\n            console.log(err);\n            return Promise.reject(err);\n        });\n};\n\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._url = baseUrl;\n  }\n\n  getUserInform(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n      .then(res => {\n        console.log(\"getUserInform OK\");\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      });\n  }\n\n  getMovies(token) {\n    return fetch(`${this._url}/movies`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n      .then(res => {\n        console.log(\"getMovies OK\");\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      });\n  }\n\n\n  updateProfileInfo({ name, email }, token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        name: name,\n        email: email\n      })\n    })\n    .then(res => {\n      console.log(\"updateProfileInfo OK\");\n      if (res.status === 400) { throw new Error('При регистрации пользователя произошла ошибка.') }\n      else if (res.status === 409) { throw new Error('Пользователь с таким email уже существует.') }\n      else return res.json()\n  })\n  .then((res) => {\n      return res;\n  })\n  .catch((err) => {\n      console.log(err);\n      return Promise.reject(err);\n  });\n  }\n  createNewCard(data, token) {\n    return fetch(`${this._url}/movies`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        country: data.country,\n        director: data.director,\n        duration: +data.duration,\n        year: +data.year,\n        description: data.description,\n        image: `https://api.nomoreparties.co${data.image.url}`,\n        trailer: data.trailerLink,\n        thumbnail: `https://api.nomoreparties.co${data.image.formats.thumbnail.url}`,\n        movieId: data.id,\n        nameRU: data.nameRU,\n        nameEN: data.nameEN\n      })\n    })\n      .then(res => {\n        console.log(`ответ: ${res}`);\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n  deleteCard(movieId, token) {\n    console.log(movieId);\n    console.log(\"токен:\" + token);\n    return fetch(`${this._url}/movies/${movieId}`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n      });\n  }\n\n\n}\n\nconst MainApi = new Api({\n baseUrl: \"https://azhukovalexback.vint1024.ru\",\n //baseUrl: \"http://localhost:3001\",\n\n});\n\nexport default MainApi;\n\n","export default __webpack_public_path__ + \"static/media/Union.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Union-1.1b6082f8.svg\";","import React from \"react\";\r\nimport union from \"../../images/Union.svg\";\r\nimport icon from \"../../images/Union-1.svg\";\r\nimport './Tooltip.css';\r\n\r\nfunction InfoTooltip(props) {\r\n  const { isTooltipOpen, onClose, successToolTip, isTooltipProfile, isTooltipLogin} = props;\r\n  const errorImg = {\r\n    backgroundImage: \"url(\" + union + \")\",\r\n    \r\n  };\r\n  const successImg = {\r\n    backgroundImage: \"url(\" + icon + \")\",\r\n\r\n  };\r\n\r\n  return (\r\n    (successToolTip) ?\r\n      ((isTooltipProfile)\r\n        ?\r\n        <section className={isTooltipOpen ? \"popup popup_opened\" : \"popup\"}  >\r\n          <form className=\"popup__container popup__tip\">\r\n            <button onClick={onClose} className=\"button button_type_close\" id=\"formError-close\" type=\"button\" />\r\n            <div className=\"popup__image popup__image_login\" style={successImg} />\r\n            <h2 className=\"popup__title infotooltip-title\">Данные обновлены!</h2>\r\n          </form>\r\n        </section>\r\n      :\r\n        <section className={isTooltipOpen ? \"popup popup_opened\" : \"popup\"}  >\r\n          <form className=\"popup__container popup__tip\">\r\n            <button onClick={onClose} className=\"button button_type_close\" id=\"formError-close\" type=\"button\" />\r\n            <div className=\"popup__image popup__image_login\" style={successImg} />\r\n            <h2 className=\"popup__title infotooltip-title\">Вы зарегистрировались!</h2>\r\n          </form>\r\n        </section> )\r\n      :\r\n  ((isTooltipLogin) \r\n  ? <section className={isTooltipOpen ? \"popup popup_opened\" : \"popup\"}  >\r\n    <form className=\"popup__container popup__tip\">\r\n      <button onClick={onClose} className=\"button button_type_close\" id=\"formError-close\" type=\"button\" />\r\n      <div className=\"popup__image popup__image_login\" style={errorImg} />\r\n      <h2 className=\"popup__title infotooltip-title\">При авторизации произошла ошибка.</h2>\r\n    </form>\r\n  </section>\r\n  :\r\n  <section className={isTooltipOpen ? \"popup popup_opened\" : \"popup\"}  >\r\n    <form className=\"popup__container popup__tip\">\r\n      <button onClick={onClose} className=\"button button_type_close\" id=\"formError-close\" type=\"button\" />\r\n      <div className=\"popup__image popup__image_login\" style={errorImg} />\r\n      <h2 className=\"popup__title infotooltip-title\">При регистрации произошла ошибка.</h2>\r\n    </form>\r\n  </section>)\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","class MoviesApi {\n  constructor(optionsUrl) {\n    this._url = optionsUrl;\n  }\n\n  getAllMovies() {\n    return fetch(`${this._url}`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => {\n        if (res.ok) { return res.json(); }\n        return Promise.reject(`${res.status}`)\n      })\n  }\n}\n\nconst moviesApi = new MoviesApi('https://api.nomoreparties.co/beatfilm-movies');\n\nexport default moviesApi;","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport './App.css';\nimport Main from '../Main/Main';\nimport Header from '../Header/Header';\nimport Footer from '../Footer/Footer';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport NotFoundError from '../NotFoundError/NotFoundError';\nimport Profile from '../Profile/Profile';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport * as auth from \"../../utils/auth\";\nimport MainApi from '../../utils/MainApi';\nimport InfoTooltip from '../Tooltip/Tooltip';\nimport { SHORT_DURATION } from \"../../utils/configs\";\nimport moviesApi from '../../utils/MoviesApi';\n\nfunction App() {\n  const history = useHistory();\n  const imageUrl = 'https://api.nomoreparties.co';\n  const [token, setToken] = React.useState(''); // установка токена\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\n  const [successToolTip, setSuccessToolTip] = React.useState(false);\n  const [isTooltipProfile, setIsTooltipProfile] = React.useState(false);\n  const [isTooltipLogin, setIsTooltipLogin] = React.useState(false);\n  const [isPreloader, setIsPreloader] = React.useState(false);\n  const [searchKeyWord, setSearchKeyWord] = React.useState('');\n  const [currentUser, setCurrentUser] = React.useState({\n    LoggedIn: true,\n    name: '',\n    email: '',\n    _id: '',\n    savedMoviesArray: [],\n  });\n\n  const [cardList, setCardsList] = React.useState([]);\n  const [isOpenMovies, setIsOpenMovies] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [moviesPreloader, setMoviesPreloader] = React.useState(false);\n  const [errorMoviesMessage, setMoviesErrorMessage] = React.useState('');\n\n  //******************************   РЕГИСТРАЦИЯ И ВХОД    ************************************************************** */\n\n  //закрыть попап\n  function closeAllPopups() {\n    setIsTooltipOpen(false);\n    setSuccessToolTip(false);\n  }\n\n  //эскейп\n  function handleEscClose(e) {\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  //оверлэй\n  function handlerOverlayClick(e) {\n    if (e.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }\n\n  //слушатели для попапа\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEscClose);\n    window.addEventListener('mousedown', handlerOverlayClick);\n    return () => {\n      window.removeEventListener('mousedown', handlerOverlayClick);\n      window.removeEventListener('keydown', handleEscClose);\n    };\n  })\n\n  //вход\n  function handleLoggedIn(values) {\n    setIsPreloader(true);\n    return auth\n      .authorize(values)\n      .then((res) => {\n        if (res && res.token) {\n          localStorage.setItem(\"jwt\", res.token);\n          setToken(res.token);\n          setCurrentUser({\n            ...currentUser,\n            LoggedIn: true,\n          });\n          console.log(currentUser);\n          handleTokenCheck();\n          history.push(\"/movies\");\n        } else {\n          setIsTooltipLogin(true);\n          setIsTooltipOpen(true);\n          throw new Error('Не удалось войти в аккаунт')\n        }\n      })\n      .catch((err) => {\n        setIsTooltipLogin(true);\n        setIsTooltipOpen(true);\n        console.log(err);\n      })\n      .finally(() => {\n        setIsPreloader(false);\n      });\n  }\n\n\n  // рега\n  function handleRegister(values) {\n    setIsPreloader(true);\n    return auth.register(values)\n      .then((res) => {\n        if (res) {\n          setSuccessToolTip(true);\n          setIsTooltipOpen(true);\n          setTimeout(handleLoggedIn(values), 100);\n          history.push('/movies')\n        }\n      })\n      .catch((err) => {\n        setSuccessToolTip(false);\n        setIsTooltipOpen(true);\n        console.log(err);\n      })\n      .finally(() => {\n        setIsPreloader(false);\n      });\n  }\n\n  // выход\n  function handleLogOut() {\n    localStorage.removeItem('movies');\n    localStorage.removeItem('lastSearch');\n    localStorage.removeItem('searchKeyWord');\n    localStorage.removeItem(\"jwt\");\n    setCurrentUser({\n      LoggedIn: false,\n      name: '',\n      email: '',\n      id: '',\n      savedMoviesArray: [],\n    });\n    //history.push(\"/\");  \n    history.go(\"/\");\n\n  }\n\n  // обновление пользователя\n  function handleUpdateUser({ name, email }) {\n    setIsPreloader(true);\n    MainApi.updateProfileInfo({ name, email }, token)\n      .then((userData) => {\n        setCurrentUser({\n          ...currentUser,\n          name: userData.name,\n          email: userData.email\n        });\n        setIsTooltipProfile(true);\n        setTimeout(setIsTooltipOpen(true), 100);\n        setSuccessToolTip(true);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsPreloader(false);\n      });\n  }\n\n  //**************************************************   ФИЛЬМЫ  ******************************************************* */\n\n  //handle search movies form\n  function handleSearch(cards, keyWord, isShort) {\n    //localStorage.removeItem('lastSearch');\n    localStorage.setItem('searchKeyWord', keyWord);\n    setSearchKeyWord(keyWord);\n    const arrayCards = [];\n    isShort ? cards.forEach((item) => {\n      item.nameRU.toLowerCase().includes(keyWord)\n        && item.duration < SHORT_DURATION\n        && arrayCards.push(item);\n    }) :\n      cards.forEach((item) => {\n        item.nameRU.toLowerCase().includes(keyWord) && arrayCards.push(item);\n      })\n    // localStorage.setItem('lastSearch', JSON.stringify(arrayCards));\n    return arrayCards;\n  }\n\n\n  //лайк\n  function addMovieHandler(data) {\n    const token = localStorage.getItem('jwt');\n    (currentUser.savedMoviesArray.findIndex(item => item.movieId === data.movieId) === -1) &&\n      MainApi.createNewCard(data, token)\n        .then((res) => {\n          currentUser.savedMoviesArray.push(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n        .finally(() => {\n        });\n  }\n\n  //дизлайк\n  function removeMovieHandler(data) {\n    console.log(\"в removeMovieHandler :\" + data.id);\n    const id = data._id\n      || currentUser.savedMoviesArray.find(item => item.movieId === data.id)._id;\n    const token = localStorage.getItem('jwt');\n    MainApi.deleteCard(id, token)\n      .then((res) => {\n        currentUser.savedMoviesArray = currentUser.savedMoviesArray.filter((item) => item.movieId !== res.movieId);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n      });\n  }\n\n//загрузка массива фильмов со стороннего апи, если в localStorage пусто\n  React.useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      const movies = JSON.parse(localStorage.getItem(\"movies\"));\n      if (movies < 1) {\n        setMoviesPreloader(true);\n        moviesApi.getAllMovies()\n          .then((res) => {\n            localStorage.setItem(\"movies\", JSON.stringify(res));\n          })\n          .catch((error) => {\n            console.log(error);\n            setIsOpenMovies(true);\n            setMoviesErrorMessage('Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\n          })\n          .finally(() => {\n            setCards(JSON.parse(localStorage.getItem(\"movies\")));\n            setMoviesPreloader(false);\n          });\n      }\n      else {\n        setCards(movies);\n      }\n    }\n  }, [token]);\n\n  //сохранение и отображение последнего поиска\n  React.useEffect(() => {\n    const isLastSearch = JSON.parse(localStorage.getItem('lastSearch'));\n    if (isLastSearch) {\n      setIsOpenMovies(false);\n      setCardsList(isLastSearch);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  ///////////////////////////////    ПОЛУЧЕНИЕ И ПРОВЕРКА ДАННЫХ ПОЛЬЗОВАТЕЛЯ    ///////////////////////////////////\n\n  //получение данных\n  const getUserData = React.useCallback((tokenParam) => {\n    setIsPreloader(true);\n    Promise.all([MainApi.getUserInform(tokenParam), MainApi.getMovies(tokenParam)])\n      .then(([userData, savedMovies]) => {\n        if (!!userData && !!savedMovies) {\n          setCurrentUser({\n            LoggedIn: true,\n            name: userData.name,\n            email: userData.email,\n            id: userData.id,\n            savedMoviesArray: savedMovies.filter((item) => item.owner === currentUser.id),\n          });\n          setSearchKeyWord(localStorage.getItem('searchKeyWord'));\n        }\n      })\n      .catch((err) => {\n        setCurrentUser({\n          LoggedIn: false,\n          name: '',\n          email: '',\n          savedMoviesArray: [],\n        })\n        console.log(err);\n      })\n      .finally(() => {\n        setIsPreloader(false);\n      });\n  }, [currentUser.id])\n\n  //проверка\n  const handleTokenCheck = React.useCallback(() => {\n    const token = localStorage.getItem('jwt');\n    setToken(token);\n    if (token) {\n      getUserData(token);\n    } else {\n      setCurrentUser({\n        LoggedIn: false,\n        name: '',\n        email: '',\n        savedMoviesArray: [],\n      });\n    }\n  }, [getUserData])\n\n\n  //\n  React.useEffect(() => {\n    handleTokenCheck();\n    setSearchKeyWord(localStorage.getItem('searchKeyWord'));\n  }, [handleTokenCheck]);\n\n  return (\n    <div className='App'>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          LoggedIn={currentUser.LoggedIn}\n        />\n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n\n          <ProtectedRoute exact path=\"/movies\"\n            component={Movies}\n            cards={cards}\n            moviesPreloader={moviesPreloader}\n            errorMoviesMessage={errorMoviesMessage}\n            setMoviesErrorMessage={setMoviesErrorMessage}\n            cardList={cardList}\n            setCardsList={setCardsList}\n            isOpenMovies={isOpenMovies}\n            setIsOpenMovies={setIsOpenMovies}\n            currentUser={currentUser}\n            searchKeyWord={searchKeyWord}\n            handleSearch={handleSearch}\n            removeMovieHandler={removeMovieHandler}\n            addMovieHandler={addMovieHandler}\n            LoggedIn={currentUser.LoggedIn}\n            imageUrl={imageUrl}\n          />\n\n          <ProtectedRoute exact path=\"/saved-movies\"\n            component={SavedMovies}\n            isPreloader={isPreloader}\n            currentUser={currentUser}\n            imageUrl={imageUrl}\n            searchKeyWord={searchKeyWord}\n            handleSearch={handleSearch}\n            removeMovieHandler={removeMovieHandler}\n            MainApi={MainApi.getAllMovies}\n            LoggedIn={currentUser.LoggedIn}\n            setCurrentUser={setCurrentUser}\n          />\n\n          <ProtectedRoute exact path=\"/profile\"\n            component={Profile}\n            handleLogOut={handleLogOut}\n            onUpdateUser={handleUpdateUser}\n            LoggedIn={currentUser.LoggedIn}\n            currentUser={currentUser}\n            isPreloader={isPreloader}\n          />\n\n          <Route exact path=\"/signup\">\n            <Register\n              isPreloader={isPreloader}\n              onRegister={handleRegister}\n              LoggedIn={currentUser.LoggedIn}\n              {...currentUser.LoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signup\" />}\n            />\n          </Route>\n\n          <Route exact path=\"/signin\">\n            <Login\n              LoggedIn={currentUser.LoggedIn}\n              isPreloader={isPreloader}\n              onLogin={handleLoggedIn} />\n            {currentUser.LoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n\n          <Route path=\"*\">\n            <NotFoundError />\n          </Route>\n        </Switch>\n        <Footer />\n\n        <InfoTooltip\n          isTooltipOpen={isTooltipOpen}\n          onClose={closeAllPopups}\n          successToolTip={successToolTip}\n          isTooltipProfile={isTooltipProfile}\n          isTooltipLogin={isTooltipLogin}\n        />\n\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}