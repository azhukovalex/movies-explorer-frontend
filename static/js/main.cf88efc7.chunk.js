(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(27).concat([function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),o=a.n(s),n=a(20),c=a.n(n),i=(a(27),a(6)),r=a(2),l=a(4),d=a(22),m=a(0),j=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return Object(m.jsx)(l.b,{children:function(){return a.LoggedIn?Object(m.jsx)(t,Object(i.a)({},a)):Object(m.jsx)(l.a,{to:"/"})}})};a(34),a(35);var u=function(){return Object(m.jsx)("section",{className:"promo",children:Object(m.jsx)("div",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})})};a(36);var b=function(){return Object(m.jsxs)("section",{className:"about-project",children:[Object(m.jsx)("h2",{className:"about-project__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(m.jsxs)("div",{className:"about-project__main",children:[Object(m.jsxs)("div",{className:"about-project__block",children:[Object(m.jsx)("h3",{className:"about-project__block-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(m.jsx)("p",{className:"about-project__block-description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(m.jsxs)("div",{className:"about-project__block",children:[Object(m.jsx)("h3",{className:"about-project__block-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(m.jsx)("p",{className:"about-project__block-description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(m.jsxs)("div",{className:"about-project__weeks",children:[Object(m.jsx)("div",{className:"about-project__week-green",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(m.jsx)("div",{className:"about-project__week-dark",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})]}),Object(m.jsxs)("div",{className:"about-project__weeks",children:[Object(m.jsx)("div",{className:"about-project__week-green about-project__back-front",children:"Back-end"}),Object(m.jsx)("div",{className:"about-project__week-dark about-project__back-front",children:"Front-end"})]})]})};a(37);var _=function(){return Object(m.jsxs)("section",{className:"techs",children:[Object(m.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(m.jsx)("h3",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(m.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(m.jsxs)("ul",{className:"techs__list",children:[Object(m.jsx)("li",{className:"techs__list_item",children:"HTML"}),Object(m.jsx)("li",{className:"techs__list_item",children:"CSS"}),Object(m.jsx)("li",{className:"techs__list_item",children:"JS"}),Object(m.jsx)("li",{className:"techs__list_item",children:"React"}),Object(m.jsx)("li",{className:"techs__list_item",children:"Git"}),Object(m.jsx)("li",{className:"techs__list_item",children:"Express.js"}),Object(m.jsx)("li",{className:"techs__list_item",children:"mongoDB"})]})]})},h=a.p+"static/media/me.3d4e4644.jfif";a(38);var p=function(){return Object(m.jsxs)("div",{className:"about-me",children:[Object(m.jsx)("h2",{className:"about-me__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(m.jsxs)("div",{className:"about-me__main",children:[Object(m.jsxs)("div",{className:"about-me__info",children:[Object(m.jsx)("h3",{className:"about-me__name",children:"\u0410\u043b\u0435\u043a\u0441\u0435\u0439"}),Object(m.jsx)("p",{className:"about-me__profession",children:"\u041d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 31 \u0433\u043e\u0434"}),Object(m.jsx)("p",{className:"about-me__text",children:"\u042f \u0436\u0438\u0432\u0443 \u0432 \u041c\u043e\u0441\u043a\u0432\u0435. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0412\u0417\u0424\u042d\u0418, \u0440\u0430\u0431\u043e\u0442\u0430\u044e \u0430\u0432\u0438\u0430\u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u043e\u043c \u0432 \u0441\u0444\u0435\u0440\u0435 \u0430\u0432\u0438\u0430\u0446\u0438\u0438 \u0432 \u043e\u0442\u0434\u0435\u043b\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043e\u043a. \u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u043c\u043e\u044f \u0440\u0430\u0431\u043e\u0442\u0430, \u043d\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0435\u0435, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0441\u043e\u0431\u0438\u0440\u0430\u044e\u0441\u044c \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0444\u0435\u0440\u0443 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.  \u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443 \u0438\u043c\u0435\u043d\u043d\u043e \u0432 IT. "}),Object(m.jsxs)("ul",{className:"about-me__socials",children:[Object(m.jsx)("li",{className:"about-me__social",children:Object(m.jsx)("a",{className:"about-me__link",target:"blank",href:"https://ru-ru.facebook.com/",children:"Facebook"})}),Object(m.jsx)("li",{className:"about-me__social",children:Object(m.jsx)("a",{className:"about-me__link",target:"blank",href:"https://github.com/azhukovalex",children:"Github"})})]})]}),Object(m.jsx)("img",{className:"about-me__photo",src:h,alt:"\u0424\u043e\u0442\u043e \u0430\u0432\u0442\u043e\u0440\u0430"})]})]})};a(39);var f=function(){return Object(m.jsxs)("div",{className:"portfolio",children:[Object(m.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(m.jsxs)("ul",{className:"portfolio__links",children:[Object(m.jsx)("li",{className:"portfolio__item",children:Object(m.jsx)("a",{className:"portfolio__link",target:"blank",href:"https://azhukovalex.github.io/how-to-learn/",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(m.jsx)("li",{className:"portfolio__item",children:Object(m.jsx)("a",{className:"portfolio__link",target:"blank",href:"https://azhukovalex.github.io/russian-travel/",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"})}),Object(m.jsx)("li",{className:"portfolio__item",children:Object(m.jsx)("a",{className:"portfolio__link",target:"blank",href:"https://azhukovalex.github.io/mesto-react/",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})};var v=function(){return Object(m.jsxs)("main",{className:"main",children:[Object(m.jsx)(u,{}),Object(m.jsx)(b,{}),Object(m.jsx)(_,{}),Object(m.jsx)(p,{}),Object(m.jsx)(f,{})]})},g=a.p+"static/media/logo__COLOR_main-1.b2d2abe1.svg",O=(a(40),a(3)),x=a.p+"static/media/profile__logo.524f8ef7.svg";var N=function(e){var t=e.LoggedIn,a=o.a.useState(!1),s=Object(r.a)(a,2),n=s[0],c=s[1],i="".concat(n?"header__nav header__nav-mob_visible":" header__nav header__nav-mob_invisible");function l(){c(!n)}return t?Object(m.jsxs)("nav",{className:"header__nav",children:[Object(m.jsx)("button",{className:"header__burger-btn header__burger-btn_invisible",onClick:l}),Object(m.jsxs)("div",{className:i,children:[Object(m.jsx)("button",{className:"header__nav-close-btn",onClick:l}),Object(m.jsxs)("div",{className:"header__nav-links",children:[Object(m.jsx)(O.c,{exact:!0,to:"/",className:"header__nav-movies header__nav-main",activeClassName:"active-link",onClick:l,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(m.jsx)(O.c,{to:"/movies",className:"header__nav-movies",activeClassName:"active-link",onClick:l,children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(m.jsx)(O.c,{to:"/saved-movies",className:"header__nav-saved",activeClassName:"active-link",onClick:l,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(m.jsxs)(O.c,{to:"/profile",className:"header__nav-profile",activeClassName:"active-link",onClick:l,children:["\u0410\u043a\u043a\u0430\u0443\u043d\u0442",Object(m.jsx)("img",{className:"nav__user-icon",src:x,alt:"\u0424\u043e\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})]})]}):Object(m.jsxs)("nav",{className:"header__nav",children:[Object(m.jsx)(O.c,{to:"/signup",className:"header__nav-item",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsx)(O.c,{to:"/signin",className:"header__nav-link",children:"\u0412\u043e\u0439\u0442\u0438"})]})};a(41);var k=function(e){var t=e.LoggedIn,a=Object(l.h)().pathname;return Object(m.jsxs)("header",{className:"/"===a?"header":"/movies"===a||"/saved-movies"===a||"/profile"===a?"header header__dark":"header__none",children:[Object(m.jsxs)(O.b,{to:"/",children:[" ",Object(m.jsx)("img",{className:"header__logo",src:g,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})]}),Object(m.jsx)(N,{LoggedIn:t})]})};a(42);var y=function(){var e=Object(l.h)().pathname;return Object(m.jsxs)("footer",{className:"/movies"===e||"/saved-movies"===e||"/"===e?"footer":"footer__none",children:[Object(m.jsx)("h2",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(m.jsxs)("div",{className:"footer__info",children:[Object(m.jsx)("p",{className:"footer__date",children:"\xa9 2021"}),Object(m.jsxs)("ul",{className:"footer__socials",children:[Object(m.jsx)("li",{className:"footer__social",children:Object(m.jsx)("a",{className:"footer__link",target:"blank",href:"https://praktikum.yandex.ru",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(m.jsx)("li",{className:"footer__social",children:Object(m.jsx)("a",{className:"footer__link",target:"blank",href:"https://github.com/",children:"Github"})}),Object(m.jsx)("li",{className:"footer__social",children:Object(m.jsx)("a",{className:"footer__link",target:"blank",href:"https://ru-ru.facebook.com/",children:"Facebook"})})]})]})]})},S=(a(43),a(11));function C(){var e=o.a.useState({}),t=Object(r.a)(e,2),a=t[0],n=t[1],c=o.a.useState({}),l=Object(r.a)(c,2),d=l[0],m=l[1],j=o.a.useState(!1),u=Object(r.a)(j,2),b=u[0],_=u[1],h=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(e),m(t),_(a)}),[n,m,_]);return{values:a,handleChange:function(e){var t=e.target,s=t.name,o=t.value;n(Object(i.a)(Object(i.a)({},a),{},Object(S.a)({},s,o))),m(Object(i.a)(Object(i.a)({},d),{},Object(S.a)({},s,t.validationMessage))),_(t.closest("form").checkValidity())},errors:d,isValid:b,resetForm:h}}a(44);var I=function(){return Object(m.jsx)("div",{className:"preloader",children:Object(m.jsx)("div",{className:"preloader__container",children:Object(m.jsx)("span",{className:"preloader__round"})})})};var w=function(e){var t=e.onRegister,a=e.isPreloader,s=C(),o=s.values,n=s.handleChange,c=s.errors,i=s.isValid,r=s.resetForm,l="".concat(i?"reg-form__submit":"reg-form__submit reg-form__submit__error"),d="".concat(i?"reg-form__input":"reg-form__input reg-form__input__error");return Object(m.jsx)("div",{className:"reg",children:a?Object(m.jsx)(I,{}):Object(m.jsxs)("form",{className:"reg-form",onSubmit:function(e){e.preventDefault(),t(o),r()},noValidate:!0,children:[Object(m.jsxs)(O.b,{className:"reg-form__logo-link",to:"/",children:[" ",Object(m.jsx)("img",{src:g,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"reg-form__logo"})," "]}),Object(m.jsx)("h1",{className:"reg-form__title",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(m.jsx)("label",{className:"reg-form__label",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{className:"reg-form__input",onChange:n,minLength:"2",maxLength:"30",type:"text",name:"name",required:!0,autoComplete:"off",value:o.name,disabled:a}),Object(m.jsx)("span",{className:"reg-form__valid-text reg-form__valid-text_non-valid",children:c.name||""}),Object(m.jsx)("label",{className:"reg-form__label",children:"E-mail"}),Object(m.jsx)("input",{className:"reg-form__input",onChange:n,minLength:"2",maxLength:"30",type:"email",name:"email",id:"email",required:!0,autoComplete:"off",value:o.email,disabled:a}),Object(m.jsx)("span",{className:"reg-form__valid-text reg-form__valid-text_non-valid",children:c.email||""}),Object(m.jsx)("label",{className:"reg-form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)("input",{className:d,onChange:n,minLength:"6",type:"password",name:"password",id:"password",required:!0,autoComplete:"off",value:o.password,disabled:a}),Object(m.jsx)("span",{className:"reg-form__valid-text reg-form__valid-text_non-valid",children:c.password||""}),Object(m.jsx)("button",{className:l,type:"submit",disabled:!i||a,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(m.jsxs)("span",{className:"reg-form__text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",Object(m.jsx)(O.b,{to:"/signin",className:"reg-form__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};a(45);var M=function(e){var t=e.onLogin,a=e.isPreloader,s=C(),o=s.values,n=s.handleChange,c=s.errors,i=s.isValid,r=s.resetForm,d="".concat(i?"login-form__input":"login-form__input login-form__input__error"),j="".concat(i?"login-form__submit":"login-form__submit login-form__submit__error"),u=Object(l.g)();return Object(m.jsx)("div",{className:"login",children:a?Object(m.jsx)(I,{}):Object(m.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault(),t(o).then((function(){u.push("/movies")})).catch((function(e){console.log(e)})),r()},children:[Object(m.jsxs)(O.b,{className:"login-form__logo-link",to:"/",children:[" ",Object(m.jsx)("img",{src:g,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"login-form__logo"})," "]}),Object(m.jsx)("h1",{className:"login-form__title",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(m.jsx)("label",{className:"login-form__label",children:"          E-mail   "}),Object(m.jsx)("input",{className:"login-form__input",type:"email",name:"email",id:"email",required:!0,value:o.email,disabled:a,onChange:n}),Object(m.jsx)("span",{className:"login-form__valid-text login-form__valid-text_non-valid",children:c.email||""}),Object(m.jsx)("label",{className:"login-form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)("input",{className:d,minLength:6,type:"password",name:"password",id:"password",value:o.password,required:!0,onChange:n,disabled:a}),Object(m.jsx)("span",{className:"login-form__valid-text login-form__valid-text_non-valid",children:c.password||""}),Object(m.jsx)("button",{className:j,type:"submit",disabled:!i||a,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(m.jsxs)("span",{className:"login-form__text",children:["\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",Object(m.jsx)(O.b,{to:"/signup",className:"login-form__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})};a(46);var L=function(){var e=Object(l.g)();return Object(m.jsxs)("section",{className:"not-found-error",children:[Object(m.jsxs)("div",{className:"not-found-error__text",children:[Object(m.jsx)("span",{className:"not-found-error__code",children:"404"}),Object(m.jsx)("p",{className:"not-found-error__description",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]}),Object(m.jsx)("button",{onClick:function(){return e.goBack()},className:"not-found-error__back",children:"\u041d\u0430\u0437\u0430\u0434"})]})},E=(a(47),o.a.createContext());var P=function(e){var t=e.handleLogOut,a=e.onUpdateUser,s=e.isPreloader,n=o.a.useContext(E),c=C(),i=c.values,r=c.handleChange,l=c.errors,d=c.isValid,j=c.resetForm,u="".concat(d?"profile-form__submit":"profile-form__submit profile-form__submit__error");return o.a.useEffect((function(){n&&j(n)}),[n,j]),Object(m.jsx)("div",{className:"profile",children:s?Object(m.jsx)(I,{}):Object(m.jsxs)("form",{className:"profile-form",onSubmit:function(e){e.preventDefault(),a(i),setTimeout((function(){window.location.reload()}),1500)},children:[Object(m.jsxs)("h1",{className:"profile-form__title",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",i.name,"!"]}),Object(m.jsxs)("label",{className:"profile-form__label",children:[Object(m.jsx)("label",{className:"profile-form__span",children:"\u0418\u043c\u044f"}),Object(m.jsx)("input",{className:"profile-form__input",minLength:2,type:"text",name:"name",id:"name",required:!0,autoComplete:"off",value:i.name,onChange:r,disabled:s}),Object(m.jsx)("span",{className:"profile__valid-name profile__valid-name_non-valid",children:l.name||""})]}),Object(m.jsx)("div",{className:"profile-form__line"}),Object(m.jsxs)("label",{className:"profile-form__label",children:[Object(m.jsx)("label",{className:"profile-form__span",children:"E-mail"}),Object(m.jsx)("input",{type:"email",name:"email",id:"email",required:!0,className:"profile-form__input",autoComplete:"off",value:i.email,onChange:r,disabled:s}),Object(m.jsx)("span",{className:"profile__valid-email profile__valid-email_non-valid",children:l.email||""})]}),Object(m.jsx)("button",{className:u,type:"submit",disabled:!d||s,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(m.jsx)(O.b,{to:"/",onClick:t,className:"profile-form__link",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})})},A=(a(48),a(49),a(50),a.p+"static/media/UnSavedLable.880a8cd1.svg"),T=a.p+"static/media/SavedLable.85fa4ae7.svg",U=a.p+"static/media/DeleteMovieBtn.1b4d94bf.svg",H=a.p+"static/media/DeleteMovieBtnHover.b78751f8.svg";var R=function(e){var t=e.addMovieHandler,a=e.image,n=e.removeMovieHandler,c=e.data,i=o.a.useContext(E),d=Object(l.h)(),j="".concat(c.duration),u=o.a.useState(!1),b=Object(r.a)(u,2),_=b[0],h=b[1],p="".concat(_?H:U),f=Object(s.useState)(i.savedMoviesArray.findIndex((function(t){return t.movieId===e.data.id}))>-1),v=Object(r.a)(f,2),g=v[0],O=v[1];function x(){h(!_)}function N(){O(!1),n(c)}return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("div",{className:"card__info",children:[Object(m.jsxs)("div",{className:"card__description",children:[Object(m.jsx)("h2",{className:"card__title",title:c.nameRU+".  "+c.description,children:c.nameRU}),Object(m.jsx)("p",{className:"card__duration",children:function(e){return Math.trunc(e/60)+"\u0447 "+e%60+"\u043c"}(j)})]}),"/movies"===d.pathname?g?Object(m.jsx)("button",{className:"card__tab card__tab_add",type:"button",style:{backgroundImage:"url("+T+")"},onClick:N,alt:"\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430"}):Object(m.jsx)("button",{className:"card__tab card__tab_add",type:"button",style:{backgroundImage:"url("+A+")"},onClick:function(){t(c),O(!0)},alt:"\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430"}):Object(m.jsx)("button",{className:"card__tab card__tab_add",type:"button",style:{backgroundImage:"url("+p+")"},onClick:N,onMouseEnter:x,onMouseLeave:x,alt:"\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430"})]}),Object(m.jsx)("a",{className:"card__image",target:"blank",href:c.trailerLink,children:Object(m.jsx)("img",{className:"card__image",src:a,alt:c.nameRU})})]})};a(51);var D=function(e){var t=e.setmoviesRendering,a=e.moviesRendering,s=e.moviesRenderingAdd;return Object(m.jsx)("div",{className:"more-btn",children:Object(m.jsx)("p",{className:"more-btn__text",onClick:function(){t(a+s)},children:"\u0415\u0449\u0451"})})};var K=function(e){var t=e.removeMovieHandler,a=e.addMovieHandler,s=e.cardsData,n=e.handleDelMovie,c=e.imageUrl,i=e.isCSS,l=window.innerWidth,d=o.a.useState(0),j=Object(r.a)(d,2),u=j[0],b=j[1],_=o.a.useState(0),h=Object(r.a)(_,2),p=h[0],f=h[1];return o.a.useEffect((function(){l>=1285?(b(12),f(6)):l<1283&&l>1e3?(b(12),f(3)):l<1279&&l>768?(b(8),f(2)):(b(5),f(2))}),[l]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"movies__card-list",id:"allMovies",children:s.slice(0,u).map((function(e){return Object(m.jsx)(R,{isCSS:i,data:e,image:c?c.concat(e.image.url):e.image,addMovieHandler:a,removeMovieHandler:t,handleDelMovie:n},e.id||e.movieId)}))}),s.length>u&&Object(m.jsx)(D,{setmoviesRendering:b,moviesRendering:u,moviesRenderingAdd:p})]})},B=(a(52),a.p+"static/media/ShortOn.06824562.svg"),F=a.p+"static/media/ShortOff.c95ddc8c.svg";var z=function(e){var t=e.handleSearch,a=e.searchKeyWord,s=e.moviesPreloader,n=e.isPreloader,c=o.a.useState(a||""),i=Object(r.a)(c,2),l=i[0],d=i[1],j=o.a.useState(!1),u=Object(r.a)(j,2),b=u[0],_=u[1],h=o.a.useState(!1),p=Object(r.a)(h,2),f=p[0],v=p[1],g=o.a.useState(!1),O=Object(r.a)(g,2),x=O[0],N=O[1],k="".concat(x?B:F);return Object(m.jsxs)("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),l?t(l,b):v(!0)},noValidate:"novalidate",children:[Object(m.jsxs)("label",{className:"search-form__block",children:[f&&!l&&Object(m.jsx)("span",{className:"search-form__span-error",children:"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"}),Object(m.jsx)("input",{className:"search-form__area",placeholder:"\u0424\u0438\u043b\u044c\u043c",value:l||"",name:"search",onChange:function(e){e.preventDefault();var t=e.target.value;d(t.toLowerCase())},autoComplete:"off",required:!0,disabled:n||s}),Object(m.jsx)("button",{className:"search-form__btn",type:"submit"})]}),Object(m.jsxs)("label",{className:"search-form__filter",children:[Object(m.jsx)("input",{className:"search-form__checkbox",id:"short",type:"checkbox",onClick:function(){N(!x)},onChange:function(){_(!b)},disabled:n||s}),Object(m.jsx)("span",{className:"search-form__checkbox-span",style:{backgroundImage:"url("+k+")"}}),"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"]})]})};var J=function(e){var t=e.addMovieHandler,a=e.removeMovieHandler,s=e.handleSearch,o=e.searchKeyWord,n=e.imageUrl,c=e.cardList,i=e.moviesPreloader,r=e.setCardsList,l=e.isOpenMovies,d=e.setIsOpenMovies,j=e.errorMoviesMessage,u=e.setMoviesErrorMessage,b=e.cards;return Object(m.jsxs)("div",{className:"movies",children:[Object(m.jsx)(z,{handleSearch:function(e,t){localStorage.removeItem("lastSearch"),console.log("\u043f\u043e\u0438\u0441\u043a"+e);var a=s(b,e,t);r(a),localStorage.setItem("lastSearch",JSON.stringify(a)),a<1&&(d(!0),u("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))},searchKeyWord:o,moviesPreloader:i}),i?Object(m.jsx)(I,{}):l?Object(m.jsx)("p",{className:"card-list__text",children:j}):Object(m.jsx)(K,{addMovieHandler:t,removeMovieHandler:a,cardsData:c,imageUrl:n})]})};a(53);var W=function(e){var t=e.isPreloader,a=e.handleSearch,s=e.removeMovieHandler,n=e.searchKeyWord,c=o.a.useContext(E),i=o.a.useState([]),l=Object(r.a)(i,2),d=l[0],j=l[1],u=o.a.useState(""),b=Object(r.a)(u,2),_=b[0],h=b[1],p=o.a.useState(!1),f=Object(r.a)(p,2),v=f[0],g=f[1];return o.a.useEffect((function(){c&&j(c.savedMoviesArray)}),[c]),Object(m.jsxs)("div",{className:"movies__main-saved",children:[Object(m.jsx)(z,{handleSearch:function(e,t){var s=a(c.savedMoviesArray,e,t);j(s),s<1&&(g(!0),h("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))},searchKeyWord:n,isPreloader:t}),t?Object(m.jsx)(I,{}):v?Object(m.jsx)("p",{className:"card-list__text",children:_}):Object(m.jsx)(K,{cardsData:d,removeMovieHandler:function(e){s(e),j(c.savedMoviesArray.filter((function(t){return t.movieId!==e.movieId})))}})]})},q="https://azhukovalexback.vint1024.ru",V=a(13),G=a(14),Q=new(function(){function e(t){var a=t.baseUrl;t.headers;Object(V.a)(this,e),this._url=a}return Object(G.a)(e,[{key:"getUserInform",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return console.log("getUserInform OK"),e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getMovies",value:function(e){return fetch("".concat(this._url,"/movies"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return console.log("getMovies OK"),e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"updateProfileInfo",value:function(e,t){var a=e.name,s=e.email;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({name:a,email:s})}).then((function(e){if(console.log("updateProfileInfo OK"),400===e.status)throw new Error("\u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.");if(409===e.status)throw new Error("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.");return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),Promise.reject(e)}))}},{key:"createNewCard",value:function(e,t){return fetch("".concat(this._url,"/movies"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({country:e.country,director:e.director,duration:+e.duration,year:+e.year,description:e.description,image:"https://api.nomoreparties.co".concat(e.image.url),trailer:e.trailerLink,thumbnail:"https://api.nomoreparties.co".concat(e.image.formats.thumbnail.url),movieId:e.id,nameRU:e.nameRU,nameEN:e.nameEN})}).then((function(e){return console.log("\u043e\u0442\u0432\u0435\u0442: ".concat(e)),e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"deleteCard",value:function(e,t){return console.log(e),console.log("\u0442\u043e\u043a\u0435\u043d:"+t),fetch("".concat(this._url,"/movies/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}}]),e}())({baseUrl:"https://azhukovalexback.vint1024.ru"}),X=a.p+"static/media/Union.df8eddf6.svg",Y=a.p+"static/media/Union-1.1b6082f8.svg";a(54);var Z=function(e){var t=e.isTooltipOpen,a=e.onClose,s=e.successToolTip,o=e.isTooltipProfile,n=e.isTooltipLogin,c={backgroundImage:"url("+X+")"},i={backgroundImage:"url("+Y+")"};return s?o?Object(m.jsx)("section",{className:t?"popup popup_opened":"popup",children:Object(m.jsxs)("form",{className:"popup__container popup__tip",children:[Object(m.jsx)("button",{onClick:a,className:"button button_type_close",id:"formError-close",type:"button"}),Object(m.jsx)("div",{className:"popup__image popup__image_login",style:i}),Object(m.jsx)("h2",{className:"popup__title infotooltip-title",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b!"})]})}):Object(m.jsx)("section",{className:t?"popup popup_opened":"popup",children:Object(m.jsxs)("form",{className:"popup__container popup__tip",children:[Object(m.jsx)("button",{onClick:a,className:"button button_type_close",id:"formError-close",type:"button"}),Object(m.jsx)("div",{className:"popup__image popup__image_login",style:i}),Object(m.jsx)("h2",{className:"popup__title infotooltip-title",children:"\u0412\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"})]})}):n?Object(m.jsx)("section",{className:t?"popup popup_opened":"popup",children:Object(m.jsxs)("form",{className:"popup__container popup__tip",children:[Object(m.jsx)("button",{onClick:a,className:"button button_type_close",id:"formError-close",type:"button"}),Object(m.jsx)("div",{className:"popup__image popup__image_login",style:c}),Object(m.jsx)("h2",{className:"popup__title infotooltip-title",children:"\u041f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."})]})}):Object(m.jsx)("section",{className:t?"popup popup_opened":"popup",children:Object(m.jsxs)("form",{className:"popup__container popup__tip",children:[Object(m.jsx)("button",{onClick:a,className:"button button_type_close",id:"formError-close",type:"button"}),Object(m.jsx)("div",{className:"popup__image popup__image_login",style:c}),Object(m.jsx)("h2",{className:"popup__title infotooltip-title",children:"\u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."})]})})},$=new(function(){function e(t){Object(V.a)(this,e),this._url=t}return Object(G.a)(e,[{key:"getAllMovies",value:function(){return fetch("".concat(this._url),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("".concat(e.status))}))}}]),e}())("https://api.nomoreparties.co/beatfilm-movies");var ee=function(){var e=Object(l.g)(),t="https://api.nomoreparties.co",a=o.a.useState(""),s=Object(r.a)(a,2),n=s[0],c=s[1],d=o.a.useState(!1),u=Object(r.a)(d,2),b=u[0],_=u[1],h=o.a.useState(!1),p=Object(r.a)(h,2),f=p[0],g=p[1],O=o.a.useState(!1),x=Object(r.a)(O,2),N=x[0],S=x[1],C=o.a.useState(!1),I=Object(r.a)(C,2),A=I[0],T=I[1],U=o.a.useState(!1),H=Object(r.a)(U,2),R=H[0],D=H[1],K=o.a.useState(""),B=Object(r.a)(K,2),F=B[0],z=B[1],V=o.a.useState({LoggedIn:!0,name:"",email:"",_id:"",savedMoviesArray:[]}),G=Object(r.a)(V,2),X=G[0],Y=G[1],ee=o.a.useState([]),te=Object(r.a)(ee,2),ae=te[0],se=te[1],oe=o.a.useState(!1),ne=Object(r.a)(oe,2),ce=ne[0],ie=ne[1],re=o.a.useState([]),le=Object(r.a)(re,2),de=le[0],me=le[1],je=o.a.useState(!1),ue=Object(r.a)(je,2),be=ue[0],_e=ue[1],he=o.a.useState(""),pe=Object(r.a)(he,2),fe=pe[0],ve=pe[1];function ge(){_(!1),g(!1)}function Oe(e){"Escape"===e.key&&ge()}function xe(e){e.target.classList.contains("popup")&&ge()}function Ne(t){return D(!0),(a=t,fetch("".concat(q,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,password:a.password})}).then((function(e){if(200===e.status)return console.log("authorize OK"),e.json();if(400===e.status)throw new Error("\u041d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439");if(401===e.status)throw new Error("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e})).catch((function(e){return console.log(e.satus),Promise.reject(e)}))).then((function(t){if(!t||!t.token)throw T(!0),_(!0),new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442");localStorage.setItem("jwt",t.token),c(t.token),Y(Object(i.a)(Object(i.a)({},X),{},{LoggedIn:!0})),console.log(X),Ce(),e.push("/movies")})).catch((function(e){T(!0),_(!0),console.log(e)})).finally((function(){D(!1)}));var a}function ke(e,t,a){localStorage.setItem("searchKeyWord",t),z(t);var s=[];return a?e.forEach((function(e){e.nameRU.toLowerCase().includes(t)&&e.duration<40&&s.push(e)})):e.forEach((function(e){e.nameRU.toLowerCase().includes(t)&&s.push(e)})),s}function ye(e){console.log("\u0432 removeMovieHandler :"+e.id);var t=e._id||X.savedMoviesArray.find((function(t){return t.movieId===e.id}))._id,a=localStorage.getItem("jwt");Q.deleteCard(t,a).then((function(e){X.savedMoviesArray=X.savedMoviesArray.filter((function(t){return t.movieId!==e.movieId}))})).catch((function(e){console.log(e)})).finally((function(){}))}o.a.useEffect((function(){return window.addEventListener("keydown",Oe),window.addEventListener("mousedown",xe),function(){window.removeEventListener("mousedown",xe),window.removeEventListener("keydown",Oe)}})),o.a.useEffect((function(){if(localStorage.getItem("jwt")){var e=JSON.parse(localStorage.getItem("movies"));e<1?(_e(!0),$.getAllMovies().then((function(e){localStorage.setItem("movies",JSON.stringify(e))})).catch((function(e){console.log(e),ie(!0),ve("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437")})).finally((function(){me(JSON.parse(localStorage.getItem("movies"))),_e(!1)}))):me(e)}}),[n]),o.a.useEffect((function(){var e=JSON.parse(localStorage.getItem("lastSearch"));e&&(ie(!1),se(e))}),[]);var Se=o.a.useCallback((function(e){D(!0),Promise.all([Q.getUserInform(e),Q.getMovies(e)]).then((function(e){var t=Object(r.a)(e,2),a=t[0],s=t[1];a&&s&&(Y({LoggedIn:!0,name:a.name,email:a.email,id:a.id,savedMoviesArray:s.filter((function(e){return e.owner===X.id}))}),z(localStorage.getItem("searchKeyWord")))})).catch((function(e){Y({LoggedIn:!1,name:"",email:"",savedMoviesArray:[]}),console.log(e)})).finally((function(){D(!1)}))}),[X.id]),Ce=o.a.useCallback((function(){var e=localStorage.getItem("jwt");c(e),e?Se(e):Y({LoggedIn:!1,name:"",email:"",savedMoviesArray:[]})}),[Se]);return o.a.useEffect((function(){Ce(),z(localStorage.getItem("searchKeyWord"))}),[Ce]),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(E.Provider,{value:X,children:[Object(m.jsx)(k,{LoggedIn:X.LoggedIn}),Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/",children:Object(m.jsx)(v,{})}),Object(m.jsx)(j,{exact:!0,path:"/movies",component:J,cards:de,moviesPreloader:be,errorMoviesMessage:fe,setMoviesErrorMessage:ve,cardList:ae,setCardsList:se,isOpenMovies:ce,setIsOpenMovies:ie,currentUser:X,searchKeyWord:F,handleSearch:ke,removeMovieHandler:ye,addMovieHandler:function(e){var t=localStorage.getItem("jwt");-1===X.savedMoviesArray.findIndex((function(t){return t.movieId===e.movieId}))&&Q.createNewCard(e,t).then((function(e){X.savedMoviesArray.push(e)})).catch((function(e){console.log(e)})).finally((function(){}))},LoggedIn:X.LoggedIn,imageUrl:t}),Object(m.jsx)(j,{exact:!0,path:"/saved-movies",component:W,isPreloader:R,currentUser:X,imageUrl:t,searchKeyWord:F,handleSearch:ke,removeMovieHandler:ye,MainApi:Q.getAllMovies,LoggedIn:X.LoggedIn,setCurrentUser:Y}),Object(m.jsx)(j,{exact:!0,path:"/profile",component:P,handleLogOut:function(){localStorage.removeItem("movies"),localStorage.removeItem("lastSearch"),localStorage.removeItem("searchKeyWord"),localStorage.removeItem("jwt"),Y({LoggedIn:!1,name:"",email:"",id:"",savedMoviesArray:[]}),e.go("/")},onUpdateUser:function(e){var t=e.name,a=e.email;D(!0),Q.updateProfileInfo({name:t,email:a},n).then((function(e){Y(Object(i.a)(Object(i.a)({},X),{},{name:e.name,email:e.email})),S(!0),setTimeout(_(!0),100),g(!0)})).catch((function(e){console.log(e)})).finally((function(){D(!1)}))},LoggedIn:X.LoggedIn,currentUser:X,isPreloader:R}),Object(m.jsx)(l.b,{exact:!0,path:"/signup",children:Object(m.jsx)(w,Object(i.a)({isPreloader:R,onRegister:function(t){return D(!0),(a=t,fetch("".concat(q,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,email:a.email,password:a.password})}).then((function(e){if(400===e.status)throw new Error("\u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.");if(409===e.status)throw new Error("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.");return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e),Promise.reject(e)}))).then((function(a){a&&(g(!0),_(!0),setTimeout(Ne(t),100),e.push("/movies"))})).catch((function(e){g(!1),_(!0),console.log(e)})).finally((function(){D(!1)}));var a},LoggedIn:X.LoggedIn},X.LoggedIn?Object(m.jsx)(l.a,{to:"/"}):Object(m.jsx)(l.a,{to:"/signup"})))}),Object(m.jsxs)(l.b,{exact:!0,path:"/signin",children:[Object(m.jsx)(M,{LoggedIn:X.LoggedIn,isPreloader:R,onLogin:Ne}),X.LoggedIn?Object(m.jsx)(l.a,{to:"/"}):Object(m.jsx)(l.a,{to:"/signin"})]}),Object(m.jsx)(l.b,{path:"*",children:Object(m.jsx)(L,{})})]}),Object(m.jsx)(y,{}),Object(m.jsx)(Z,{isTooltipOpen:b,onClose:ge,successToolTip:f,isTooltipProfile:N,isTooltipLogin:A})]})})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,56)).then((function(t){var a=t.getCLS,s=t.getFID,o=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),o(e),n(e),c(e)}))};c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(O.a,{children:Object(m.jsx)(ee,{})})}),document.getElementById("root")),te()}]),[[55,1,2]]]);
//# sourceMappingURL=main.cf88efc7.chunk.js.map